<div class="fixed-plugin {{showSidebar ? 'show' : ''}}">
  <a class="fixed-plugin-button bg-gradient-secondary position-fixed px-3 py-2 text-center" (click)="openSidebar()">
    <i class="fas fa-shopping-cart py-2 text-lg"></i>
  </a>
  <div class="card shadow-lg">
    <div class="card-header pb-0 pt-3 ">
      <div class="float-start">
        <h4 class="mt-3 mb-0 text-uppercase">
          <i class="fas fa-shopping-cart me-1"></i>
          Panier
        </h4>
        <p class="text-secondary">Récapitulatif du panier</p>
      </div>
      <div class="d-flex align-items-center justify-content-end mt-4">
        <button class="btn btn-link text-dark p-0 fixed-plugin-close-button" (click)="openSidebar()">
          <i class="fa fa-close fa-xl text-secondary"></i>
        </button>
      </div>
      <!-- End Toggle Button -->
    </div>
    <div class="card-body pt-sm-3 py-0 overflow-auto px-0">
      <div class="text-center mt-3">
        <button class="btn bg-gradient-danger mb-0 text-center text-xs" (click)="clearCart($event)" *ngIf="carts.length > 0">
          <i class="fas fa-trash-alt me-2"></i> Vider le panier
        </button>
      </div>
      <ul class="listview image-listview inset">
        <li *ngFor="let cart of carts">
          <div class="item">
            <img src="{{cart.img}}" alt="image" class="image"
              style="border-radius: 10px; width: 45px; height: 60px; object-fit: cover;">
            <div class="in">
              <div class="text">
                {{cart.name}}
                <footer class="text-secondary">{{cart.price | currency:'EUR':'symbol':'1.2-2':'fr' }}</footer>
              </div>
              <div class="quantity-control ml-2">
                <button class="quantity-btn bg-gradient-light" (click)="decrement(cart)">
                  <i class="fa-solid fa-minus"></i>
                </button>
                <input disabled class="form-control quantity-input" type="text" [(ngModel)]="cart.quantity" min="0"
                  max="8" id="qty">
                <button class="quantity-btn bg-gradient-light" (click)="increment(cart)">
                  <i class="fa-solid fa-plus"></i>
                </button>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
    <div class="card-footer py-3">
      <div class="item p-0 mb-3">
        <div class="icon-box bg-gradient-info text-white">
          <i class="fas fa-credit-card"></i>
        </div>
        <div class="in">
          <div>
            Total à payer
          </div>
          <div class="total">
            {{ getTotalTTC() | currency:'EUR':'symbol':'1.2-2':'fr' }}
          </div>
        </div>
      </div>
      <a class="btn btn-dark w-100" href="javascript:void">Checkout <i class="fas fa-arrow-right ms-2"></i></a>
      <div class="w-100 text-center">
        <a href="#" class="mb-0 me-3" target="_blank">
          <i class="fab fa-paypal text-secondary fa-lg"></i>
        </a>
        <a href="#" class="mb-0 me-3" target="_blank">
          <i class="fab fa-stripe text-secondary fa-lg"></i>
        </a>
        <a href="#" class="mb-0 me-3" target="_blank">
          <i class="fab fa-cc-visa text-secondary fa-lg"></i>
        </a>
        <a href="#" class="mb-0" target="_blank">
          <i class="fab fa-cc-mastercard text-secondary fa-lg"></i>
        </a>
      </div>
    </div>
  </div>
</div>
